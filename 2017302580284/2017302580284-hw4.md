## nslookup
![nslookup](nslookup.png)

## 课后题

##### P9.考虑图2-12,其中有一个机构的网络和因特网相连。假定对象的平均长度为850000比特，从这个机构网的浏览器到初始服务器的平均请求率是每秒16个请求。还假定从接入链路的因特网一侧的路由器转发一个HTTP请求开始，到接收到其响应的平均时间是3秒 (参见2.2.5节)。将总的平均响应时间建模为平均接入时延(即从因特网路由器到机构路由器的时延)和平均因特网时延之和。对于平均接入时延，使用△/(1-△ß)，式中△是跨越接入链路发送一个对象的平均时间，ß是对象对该接入链路的平均到达率。

###### a. 求出总的平均响应时间。

平均因特网时延=3s

△=850000bits/15Mbps=0.0567s

ß=16个/s

平均接入时延=△/(1-△ß)=0.6110s

总的平均响应时间=平均因特网时延+平均接入时延=3.6110s

###### b. 现在假定在这个机构LAN中安装了一个缓存器。假定命中率为0.4,求出总的响应时间。

LAN缓存时延=850000bits/100Mbps=0.0085s

由a公式当ß的值为16x0.6=9.6时,平均接入时延=△/(1-△ß)=0.1244s

总的平均响应时间=(平均因特网时延+平均接入时延)x0.6+0.4xLAN缓存时延=1.8780s



##### P10.考虑一条10米短链路，某发送方经过它能够以150bps速率双向传输。假定包含数据的分组是 100 000比特长，仅包含控制(如ACK或握手)的分组是200比特长。假定N个并行连接每个都获 得 1/N的链路带宽。现在考虑HTTP协议，并且假定每个下载对象是100Kb长，这些初始下载对象包含10个来自相同发送方的引用对象。在这种情况下，经非持续HTTP的并行实例的并行下载有意义吗?现在考虑持续HTTP。你期待这比非持续的情况有很大增益吗?

非持续HTTP连接且并行下载：
(200b / 150bps) x 3 + ((100000)b/ 150bps) + (200b / (150bps / 10)) x 3 + ((100000)b / (150bps / 10)) = 7377.34s

持续HTTP连接：
(200b / 150bps) x 3 + ((10000)b / 150bps) + 10 x (200b/150bps + (100000)b/150bps) = 7350.67s



##### P23.考虑使用一种客户-服务器体系结构向N个对等方分发一个F 比特的文件。假定一种某服务器能够同时向多个对等方传输的流体模型，只要组合速率不超过u<sub>s</sub>，则以不同的速率向每个对等方传输。

###### a.假定u<sub>s</sub>/N≤d<sub>min</sub>.定义一个具有*NF/u<sub>s</sub>*分发时间的分发方案。

服务器并行向N个服务器发送文件,速率为u<sub>s</sub>/N,该速率小于最小下载速度,故客户端以该速率下载,分发时间为F/(u<sub>s</sub>/N)=NF/u<sub>s</sub>

###### b. 假定u<sub>s</sub>/N≥d<sub>min</sub>.定义一个具有*F/d<sub>min</sub>*分发时间的分发方案。

服务器并行向N个服务器发送文件,速率为d<sub>min</sub>,该速率小于u<sub>s</sub>/N,故客户端以该速率下载,分发时间为F/d<sub>min</sub>

###### c. 得出最小分发时间通常是由max{*NF/u<sub>s</sub>*, *F/d<sub>min</sub>*}所决定的结论。

综合ab的结论:u<sub>s</sub>/N≤d<sub>min</sub>时,上传速度小,最小分发时间为NF/u<sub>s</sub>;u<sub>s</sub>/N≥d<sub>min</sub>时下载速度小,最小分发时间为F/d<sub>min</sub>,所以最小分发时间通常由max{*NF/u<sub>s</sub>*, *F/d<sub>min</sub>*}所决定的.



##### P24. 考虑使用P2P体系结构向N个用户分发F比特的一个文件。假定一种流体模型。为了简化起见，假定d<sub>min</sub>很大，因此对等方下载带宽不会成为瓶颈。

###### a.假定u<sub>s</sub>≤(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)/N.定义一个具有F/u<sub>s</sub>分发时间的分发方案。

服务器上载文件给所有端下载,由于服务器上载的速度是小于总的端的上载速度,所以上传时间至少要F/u<sub>s</sub>,依题意d<sub>min</sub>很大所以不考虑.

###### b. 假定u<sub>s</sub>≥(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)/N.定义一个具有F/(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)分发时间的分发方案。

服务器作为端分发的同时其他端也都作为服务器上传,由于此时总的上载速度成为限制因素,分发时间为F/(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)

###### c. 得出最小分发时间通常是由max{F/u<sub>s</sub>,F/(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)}所决定的结论。

由ab的结论可知P2P体系最小分发时间由max{F/u<sub>s</sub>,F/(u<sub>s</sub>+u<sub>1</sub>+u<sub>2</sub>+...+u<sub>N</sub>)}所决定的



